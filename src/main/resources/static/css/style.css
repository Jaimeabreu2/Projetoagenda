/* --------------------------------------------
   style.css — comentários úteis para estudo
   - Variáveis no :root definem a paleta e medidas.
   - Use as classes a11y-high-contrast / a11y-large-font
     no elemento <html> para ativar modos de acessibilidade.
   - Comentários curtos mostram o propósito de cada bloco.
   -------------------------------------------- */

/* Paleta de cores moderna */
:root{
  --brand-1: #0f3f1f;       /* verde escuro principal */
  --brand-2: #66c18a;       /* verde claro (pastel) para contrastes e gradientes */
  --brand-3: #e6f8ec;       /* verde muito claro / pastel para fundos suaves */
  --accent: #1b7a58;        /* acento (tom médio/escuro) */
  --muted: #51645a;         /* texto secundário suave, tonalidade "verde-acinzentada" */
  --text: #072514;          /* texto principal (muito escuro para contraste) */
  --bg: #f3fbf6;            /* fundo geral suave pastel */
  --panel: #ffffff;         /* painéis permanecem brancos para legibilidade */
  --danger: #b91c1c;
  --radius: 14px;
  --shadow-sm: 0 4px 16px rgba(44,62,80,0.07);
  --shadow-lg: 0 10px 32px rgba(44,62,80,0.10);
  --transition: 180ms cubic-bezier(.4,0,.2,1);
  --font-sans: "Roboto", "Segoe UI", Arial, sans-serif;
  --font-heading: "Roboto", var(--font-sans);
  --a11y-font-scale:1; --a11y-line-mult:1;

  /* ... Adicionais para animações e microinterações ... */
  --decor-opacity: 0.12;
  --gradient-speed: 12s;
  --ripple-color: rgba(255,255,255,0.18);
}

/* Fundo geral com gradiente suave */
body {
  background: linear-gradient(135deg, #e8f5e9 0%, #f5f7fa 100%);
  min-height: 100vh;
  font-family: var(--font-sans);
  color: var(--text);
  /* Reset leve: garante box-sizing e remove margens padrão */
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;padding:0} /* uso intencional: não transformar body em flex global */
}

/* fundo animado e SVG decorativo (baixo impacto, pointer-events:none) */
.animated-gradient{
  position:fixed;
  inset:0;
  z-index:-2;
  background: linear-gradient(120deg, #e8f5e9 0%, #b9f6ca 40%, #f5f7fa 100%);
  background-size:300% 300%;
  animation: gradientShift var(--gradient-speed) linear infinite;
  pointer-events:none;
  opacity:0.95;
}
@keyframes gradientShift{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

/* decor SVG levemente translúcido para sensação "premium" */
.bg-decor{
  position:fixed;
  inset:0;
  z-index:-1;
  pointer-events:none;
  opacity:var(--decor-opacity);
  transform: translateZ(0);
}

/* respeita preferências do usuário */
@media (prefers-reduced-motion: reduce) {
  .animated-gradient { animation: none; }
}

/* garante que o app fique acima do decor */
.app-container { position: relative; z-index: 1; }

/* Tipografia
   - Aplicamos a fonte base (Roboto) aos elementos principais.
   - Mantenha tamanho e pesos controlados por variáveis quando possível. */
body, input, button, select, textarea, .small, label {
  font-family: var(--font-sans);
}
h1,h2,h3,h4,h5,.logo {
  font-family: var(--font-heading);
  font-weight: 700;
}

/* Reset leve: garante box-sizing e remove margens padrão */
*{box-sizing:border-box}
html,body{height:100%;margin:0;padding:0} /* uso intencional: não transformar body em flex global */

/* Páginas específicas
   - .login-page: layout centralizado apenas para telas de login.
   - Outras páginas usam classes diferentes (ex: .calendar-page). */
.login-page {
  display:flex;
  align-items:center;
  justify-content:center;
  padding:32px;
  min-height:100vh;
}

/* Layout login */
.login-wrap{
  width:100%;
  max-width:1100px;
  display:grid;
  grid-template-columns:1fr 420px;
  gap:36px;
  align-items:center;
  padding:6px;
}

/* Hero (lado esquerdo) */
.hero{
  padding:28px;
  border-radius:var(--radius);
  background:transparent;
  min-height:300px;
}
.brand{display:flex;align-items:center;gap:14px;margin-bottom:16px}
.logo{
  width:64px;height:64px;border-radius:12px;
  background:linear-gradient(135deg,var(--brand-1),var(--brand-2));
  display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:20px;
  box-shadow:var(--shadow-lg);
  /* garantir fonte de título e contraste */
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 20px;
  line-height: 1;
  text-transform: none; /* mantém "Ag" */
}
.hero h1{margin:0 0 8px 0;font-size:28px}
.hero p{margin:0;color:var(--muted);max-width:44ch;line-height:1.45}

/* Card / formulário */
.card{
  background:var(--panel);
  border-radius:var(--radius);
  box-shadow:var(--shadow-sm);
  padding:24px;
  min-width:320px;
}
.card h2{margin:0 0 12px 0;font-size:18px;color:var(--brand-1)}

/* Form controls */
form{display:flex;flex-direction:column;gap:12px}
label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
.input{
  display:flex;align-items:center;gap:10px;background:#fbfff9;border-radius:10px;padding:10px 12px;
  border:1px solid transparent;transition:box-shadow var(--transition),border-color var(--transition);
}
.input:focus-within{
  box-shadow:0 8px 22px rgba(102,187,106,0.12);
  border-color: rgba(46,125,50,0.14);
}
input[type="text"], input[type="password"], input[type="email"]{
  border:0;background:transparent;outline:none;font-size:15px;width:100%;color:var(--text);
}
input::placeholder{color:#9aa3b2}

/* realce de foco para inputs e microinterações */
.input {
  transition: border-color var(--transition), box-shadow var(--transition), transform var(--transition);
  will-change: box-shadow, transform;
}
.input:focus-within {
  transform: translateY(-1px);
  box-shadow: 0 10px 30px rgba(67,160,71,0.08);
  border-color: rgba(67,160,71,0.20);
}

/* Buttons */
.actions{display:flex;align-items:center;justify-content:space-between;margin-top:6px}
.btn{
  background: var(--accent);color:white;border:0;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer;
  transition:transform 120ms ease,opacity 120ms linear,filter 120ms ease;
  box-shadow: 0 6px 18px rgba(102,187,106,0.12);
}
.btn:active{transform:translateY(1px)}
.btn:focus{outline:3px solid rgba(102,187,106,0.14);outline-offset:2px}
.btn.secondary{background:transparent;color:var(--brand-1);border:1px solid rgba(46,125,50,0.10);box-shadow:none}

/* botão: microinterações adicionais (sutil elevação e sombra ao focar/ativar) */
.btn {
  position: relative;
  overflow: hidden; /* necessário para ripple */
  transition: box-shadow var(--transition), transform var(--transition), background var(--transition);
  will-change: transform, box-shadow;
}
.btn:focus {
  outline: 3px solid rgba(67,160,71,0.14);
  outline-offset: 3px;
}
.btn:active {
  transform: translateY(1px) scale(0.997);
  box-shadow: 0 6px 18px rgba(44,62,80,0.06);
}

/* ripple (container) — o efeito é criado por JS, mas garantimos estilos base */
.btn .ripple {
  position: absolute;
  border-radius: 50%;
  transform: scale(0);
  opacity: 0.9;
  pointer-events: none;
  background: var(--ripple-color);
  animation: rippleAnim 560ms cubic-bezier(.2,0,.2,1);
}
@keyframes rippleAnim {
  to { transform: scale(2.8); opacity: 0; }
}

/* Loading indicator */
.btn.loading{position:relative;pointer-events:none;opacity:0.95}
.btn.loading::after{
  content:"";
  position:absolute;right:12px;top:50%;transform:translateY(-50%);width:14px;height:14px;border-radius:50%;
  border:2px solid rgba(255,255,255,0.35);border-top-color:white;animation:spin 800ms linear infinite;
}
@keyframes spin{to{transform:rotate(360deg) translateY(-50%)}}

/* Helpers */
.small{font-size:13px;color:var(--muted)}
.help{color:var(--muted);font-size:13px;margin-top:8px;text-align:center}
.error{color:var(--danger);font-size:13px;margin-top:6px;display:none}

/* Eye toggle */
.eye{background:none;border:0;cursor:pointer;color:var(--muted);font-size:16px;padding:4px}
.eye:focus{outline:2px solid rgba(0,0,0,0.06);border-radius:6px}

/* Calendar (mantive estilos coerentes com a paleta) */
.calendar-wrap{
  /* mantém o contêiner, mas deixa o bloco de células separado visualmente */
  width:100%;
  max-width:1100px;
  margin:28px auto;
  background:transparent;        /* deixa o fundo do painel transparente para realçar o bloco branco das células */
  border-radius:10px;
  padding:16px;
  border:1px solid rgba(46,125,50,0.06);
  box-shadow:0 12px 30px rgba(15,23,42,0.06);
}

/* Bloco branco entre as caixinhas: o grid tem fundo branco e padding (gutter) */
#calendarContent.calendar-grid{
  background: #ffffff !important;
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:12px;
  padding:14px;
  border-radius:10px;
  box-sizing:border-box;
}

/* Aparência das células: mantêm fundo claro e bordas suaves */
.calendar-cell{
  min-height:100px;
  border-radius:8px;
  background:linear-gradient(180deg,#fbfff9 0%,#f0fff4 100%);
  border:1px solid rgba(0,0,0,0.04);
  padding:8px;
  position:relative;
  overflow:visible; /* evita corte de texto */
  color:inherit;
}

/* Header do calendário: usa grid para 3 áreas (título | controles centrais | toggles à direita) */
.calendar-header{
  display: grid;
  grid-template-columns: 1fr auto auto;
  gap:12px;
  align-items: center;
  padding: 8px 0 12px 0;
  width:100%;
  box-sizing: border-box;
}

/* título no canto esquerdo (ocupa a primeira coluna) */
.calendar-title{
  margin:0;
  font-size:18px;
  color:var(--brand-1);
  font-weight:600;
}

/* controles de navegação (centro) */
.calendar-controls{
  display:flex;
  gap:10px;
  align-items:center;
  justify-self:center;
}

/* grupo de toggle de visualização (direita) */
.view-toggle{
  display:flex;
  gap:10px;
  align-items:center;
  justify-self:end;
}

/* padroniza aparência dos botões do header (tamanho/altura iguais) */
.calendar-header .btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:0 10px;
  min-width:44px;
  height:44px;
  border-radius:10px;
  box-shadow:none;
  font-weight:600;
  line-height:1;
}

/* botão circular pequeno para prev/next */
.calendar-controls .btn{
  width:44px;
  padding:0;
  border-radius:10px;
}

/* ajuste visual do botão ativo (Mês/Semana/Dia) */
.view-toggle .btn{
  min-width:64px;
  padding:8px 12px;
}

/* garante que as labels dos dias fiquem em uma linha de 7 colunas */
.weekday-labels{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap:12px;
  width:100%;
  margin-top:8px;
  box-sizing:border-box;
  align-items:center;
}
.weekday-labels .calendar-weekday{
  text-align:left;      /* ou 'center' se preferir */
  padding:6px 10px;
  font-weight:600;
  color:var(--text);
}

/* separação do grid de células abaixo do header */
#calendarContent{
  margin-top:12px;
  width:100%;
  box-sizing:border-box;
}

/* responsivo: rearranja header sem quebrar labels */
@media (max-width:720px){
  .calendar-header{
    grid-template-columns: 1fr auto;
    grid-auto-flow: row;
  }
  .view-toggle{ justify-self:flex-start; order:3; margin-top:6px; }
  .calendar-controls{ justify-self:flex-start; }
}
@media (max-width:960px){
  .login-wrap{grid-template-columns:1fr;max-width:520px;padding:0}
  .hero{order:2}
  .card{order:1}
}
@media (max-width:820px){
  .calendar-wrap{padding:12px;margin:12px}
  .calendar-cell{min-height:80px;padding:6px}
  .weekday-labels{gap:6px}
}
@media (max-width:520px){
  .calendar-header{flex-direction:column;align-items:flex-start;gap:8px}
  .weekday-labels{display:none}
  #calendarContent.calendar-grid{grid-template-columns:repeat(2,1fr)}
}

/* --- Correções e melhorias para sidebar / topbar / ícones --- */

/* altura padrão do topbar usada por páginas que possuem header fixo */
:root { --topbar-height: 64px; }

/* sidebar: manter fixa mas deslocada abaixo do topbar para não sobrepor o cabeçalho */
.app-sidebar{
  position:fixed;
  top: var(--topbar-height); /* evita sobreposição do topbar */
  left:0;
  bottom:0;
  width:92px; /* largura um pouco maior para respiração */
  background:var(--bg);
  border-right:1px solid rgba(15,23,42,0.08);
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:20px 8px;
  gap:18px;
  z-index:900; /* abaixo do topbar (se topbar usar z-index maior) */
}

/* padroniza botões/ícones na sidebar */
.app-sidebar .icon-btn,
.app-sidebar .btn {
  width:46px;
  height:46px;
  border-radius:10px;
  font-size:18px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;
  line-height:1; /* garante que emojis/icons fiquem vert. centralizados */
  box-shadow:none;
  background:transparent;
  border:0;
  color:inherit;
  cursor:pointer;
}

/* botão principal de criar evento destacado */
.app-sidebar .create-btn{
  width:52px;
  height:52px;
  font-size:22px;
  margin-top:8px;
  border-radius:12px;
  box-shadow: 0 8px 22px rgba(46,125,50,0.12);
  display:flex;align-items:center;justify-content:center;
}

/* espaço para o conteúdo principal: evita que a sidebar sobreponha elementos */
@media (min-width:880px){
  .app-container { margin-left: 108px; } /* equivalente à largura + segurança */
}

/* topbar: garantir que suas ações (top-actions) fiquem alinhadas corretamente */
.app-topbar{ display:flex;align-items:center;justify-content:space-between; gap:12px; padding:12px 20px; z-index:1000; }
.app-topbar .top-actions { display:flex; gap:10px; align-items:center; }
.app-topbar .top-actions .btn { padding:8px 12px; }

/* pequenos ajustes visuais para ícones/textos dentro de botões */
.btn, .icon-btn { align-items:center; justify-content:center; display:inline-flex; gap:8px; }

/* garante que emojis e ícones em botões não quebrem linha */
.btn i, .icon-btn i, .app-sidebar .icon-btn { display:inline-flex; align-items:center; justify-content:center; }

/* Ajustes finais (overrides) para evitar logo grande no cabeçalho e colisão com o widget a11y */

/* tamanho reduzido e consistente do logo quando usado no topbar (não altera versões maiores específicas como a hero/login) */
.app-topbar .logo,
.app-topbar .brand .logo {
  width: 44px !important;
  height: 44px !important;
  font-size: 18px !important;
  border-radius: 10px !important;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-right: 10px;
}

/* garante que o cabeçalho não seja empurrado visualmente pelo logo */
.app-topbar .brand { display:flex; align-items:center; gap:10px; }

/* Move o widget de acessibilidade para o canto inferior direito,
   evitando sobreposição com botões no topo/centro. */
#a11yWidget {
  position: fixed !important;
  right: 16px !important;
  bottom: 16px !important;
  top: auto !important;
  z-index: 1400 !important; /* acima da maioria dos elementos, abaixo de toasts modais se necessário */
  /* pequena suavização para não chamar atenção excessiva */
  transition: transform 160ms ease, opacity 160ms ease;
}

/* Painel do widget: aparece acima do botão, nunca cortado */
#a11yWidget .panel {
  display: none;
  position: absolute;
  right: 0;
  bottom: 56px; /* aparece acima do botão Aa */
  left: auto;
  width: 280px;
  max-width: 92vw;
  background: var(--panel);
  border-radius: 10px;
  box-shadow: var(--shadow-sm);
  padding: 10px;
  max-height: 80vh;
  overflow-y: auto;
  z-index: 1500;
}
#a11yWidget.open .panel{ display:block; }

/* Em telas pequenas, painel ocupa quase toda a largura e sobe mais */
@media (max-width: 520px) {
  #a11yWidget .panel {
    left: 50%;
    right: auto;
    transform: translateX(-50%);
    width: 98vw;
    min-width: 0;
    max-width: 98vw;
    bottom: 70px;
    border-radius: 12px;
    padding: 10px 4vw;
  }
}

/* Garante que o painel nunca fique cortado mesmo se houver muitos itens */
#a11yWidget .panel {
  max-height: 80vh;
  overflow-y: auto;
}

/* Override de paleta: verde escuro principal + tons pastéis/claros para contraste */
:root{
  --brand-1: #0f3f1f;       /* verde escuro principal */
  --brand-2: #66c18a;       /* verde claro (pastel) para contrastes e gradientes */
  --brand-3: #e6f8ec;       /* verde muito claro / pastel para fundos suaves */
  --accent: #1b7a58;        /* acento (tom médio/escuro) */
  --muted: #51645a;         /* texto secundário suave, tonalidade "verde-acinzentada" */
  --text: #072514;          /* texto principal (muito escuro para contraste) */
  --bg: #f3fbf6;            /* fundo geral suave pastel */
  --panel: #ffffff;         /* painéis permanecem brancos para legibilidade */
  --danger: #b91c1c;
  --ripple-color: rgba(15,63,31,0.12);
}

/* pequenas correções de contraste em elementos que usam gradientes */
.logo { background: linear-gradient(135deg,var(--brand-1),var(--brand-2)) !important; }
.btn { box-shadow: 0 6px 18px rgba(15,63,31,0.08); }

/* === Acessibilidade: alto contraste bem mais forte === */
.a11y-high-contrast {
  /* cores fortes para alto contraste */
  --panel: #000000;        /* painel escuro */
  --text: #ffffff;         /* texto claro */
  --muted: #dcdcdc;        /* texto secundário claro */
  --accent: #ffff66;       /* ação/links em amarelo claro */
  --bg: #000000;           /* fundo totalmente escuro */
}

/* força fundo escuro e texto claro */
html.a11y-high-contrast, html.a11y-high-contrast body {
  background: var(--bg) !important;
  color: var(--text) !important;
}

/* adapta componentes principais */
.a11y-high-contrast .card,
.a11y-high-contrast .calendar-wrap {
  background: var(--panel) !important;
  color: var(--text) !important;
  border-color: rgba(255,255,255,0.12) !important;
  box-shadow: none !important;
}

/* inputs bem visíveis */
.a11y-high-contrast .input {
  background: transparent !important;
  border: 2px solid #ffffff !important;
  color: var(--text) !important;
}
.a11y-high-contrast input::placeholder { color: rgba(255,255,255,0.85) !important; opacity:1 !important; }

/* botões com alto contraste (fundo claro e texto escuro) */
.a11y-high-contrast .btn {
  background: #ffffff !important;
  color: #000000 !important;
  border: 2px solid #ffffff !important;
  box-shadow: none !important;
}
.a11y-high-contrast .btn.secondary {
  background: transparent !important;
  color: #ffffff !important;
  border: 2px solid rgba(255,255,255,0.2) !important;
}

/* links bem destacadas */
.a11y-high-contrast a,
.a11y-high-contrast .small a {
  color: var(--accent) !important;
  text-decoration: underline !important;
}

/* labels e legendas mais claras */
.a11y-high-contrast label,
.a11y-high-contrast .small,
.a11y-high-contrast .help {
  color: var(--muted) !important;
}

/* cabeçalhos e números do calendário */
.a11y-high-contrast .calendar-weekday,
.a11y-high-contrast .day-num {
  color: #ffffff !important;
  background: transparent !important;
}

/* garante placeholders e texto interno fortes */
.a11y-high-contrast input,
.a11y-high-contrast textarea,
.a11y-high-contrast select {
  color: var(--text) !important;
}

/* reduz efeitos sutis que podem prejudicar leitura no modo contraste */
.a11y-high-contrast .logo,
.a11y-high-contrast .hero { opacity: 1 !important; filter:none !important; }

/* Widget fixo (não empurra o conteúdo) */
#a11yWidget{
  position:fixed !important;
  right:16px !important;
  bottom:16px !important;
  top:auto !important;
  z-index:1400 !important;
  transition: transform 160ms ease, opacity 160ms ease;
}

/* Painel do widget: aparece acima do botão, nunca cortado */
#a11yWidget .panel {
  display: none;
  position: absolute;
  right: 0;
  bottom: 56px; /* aparece acima do botão Aa */
  left: auto;
  width: 280px;
  max-width: 92vw;
  background: var(--panel);
  border-radius: 10px;
  box-shadow: var(--shadow-sm);
  padding: 10px;
  max-height: 80vh;
  overflow-y: auto;
  z-index: 1500;
}
#a11yWidget.open .panel{ display:block; }

/* Em telas pequenas, painel ocupa quase toda a largura e sobe mais */
@media (max-width: 520px) {
  #a11yWidget .panel {
    left: 50%;
    right: auto;
    transform: translateX(-50%);
    width: 98vw;
    min-width: 0;
    max-width: 98vw;
    bottom: 70px;
    border-radius: 12px;
    padding: 10px 4vw;
  }
}

/* Garante que o painel nunca fique cortado mesmo se houver muitos itens */
#a11yWidget .panel {
  max-height: 80vh;
  overflow-y: auto;
}

/* Alto contraste */
.a11y-high-contrast {
  /* cores fortes para alto contraste */
  --panel: #101212;        /* painel escuro (um pouco mais claro que preto) */
  --text: #ffffff;         /* texto claro */
  --muted: #dcdcdc;        /* texto secundário claro */
  --accent: #ffff66;       /* ação/links em amarelo claro */
  --bg: #191919;           /* fundo quase-preto (~90% preto) */
  background-color: #ffffff !important;
  color: var(--text) !important;
}
.a11y-high-contrast .card,
.a11y-high-contrast .calendar-wrap { box-shadow: none; }

/* Texto maior (aplica aumentos específicos para elementos textuais) */
.a11y-large-font { --a11y-font-scale: 1.9; } /* ajuste: escala maior para impacto visível */
.a11y-large-font html,
.a11y-large-font body {
  font-size: calc(100% * var(--a11y-font-scale)) !important; /* aumenta base */
}
.a11y-large-font h1,
.a11y-large-font .hero h1 { font-size: calc(28px * var(--a11y-font-scale)) !important; }
.a11y-large-font h2,
.a11y-large-font .card h2 { font-size: calc(18px * var(--a11y-font-scale)) !important; }
.a11y-large-font input,
.a11y-large-font textarea,
.a11y-large-font select,
.a11y-large-font .btn,
.a11y-large-font .small,
.a11y-large-font label {
  font-size: calc(15px * var(--a11y-font-scale)) !important;
  line-height: calc(1.4 * var(--a11y-font-scale)) !important;
}
.a11y-large-font .input {
  padding: calc(10px * var(--a11y-font-scale)) calc(12px * var(--a11y-font-scale)) !important;
  border-radius: calc(10px * var(--a11y-font-scale)) !important;
}
.a11y-large-font .btn {
  padding: calc(12px * var(--a11y-font-scale)) calc(18px * var(--a11y-font-scale)) !important;
  border-radius: calc(10px * var(--a11y-font-scale)) !important;
}

/* skip-link: visível apenas quando em foco (melhora navegação por teclado) */
.skip-link,
a.skip-link {
  position: absolute;
  left: -999px;
  top: auto;
  background: var(--brand-2);
  color: #fff;
  padding: 8px 12px;
  border-radius: 6px;
  z-index: 99999;
  text-decoration: none;
}
.skip-link:focus,
a.skip-link:focus {
  left: 16px;
  top: 16px;
  width: auto;
  height: auto;
}

/* foco acessível (aplica quando navegador decide mostrar foco de teclado) */
:focus {
  outline: none;
}
:focus-visible {
  outline: 3px solid rgba(67,160,71,0.18);
  outline-offset: 3px;
  border-radius: 6px;
}

/* garantir foco claro para elementos interativos (botões, links, inputs) */
button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  box-shadow: 0 8px 28px rgba(46,125,50,0.12);
}

/* respeitar reduce-motion */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}

/* Ajustes finais: topbar fixo e logo alinhada corretamente */
:root { --topbar-height: 64px; } /* já usado em outras regras, reafirmar */

.app-topbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--topbar-height);
  padding: 0 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  background: var(--panel);
  border-bottom: 1px solid rgba(15,23,42,0.06);
  z-index: 1100; /* acima da sidebar */
  box-shadow: 0 2px 6px rgba(15,23,42,0.04);
}

/* garante que o conteúdo da página não fique atrás do topbar fixo */
body { padding-top: var(--topbar-height); }

/* brand + logo: verticalmente centrados e espaçamento consistente */
.app-topbar .brand {
  display: flex;
  align-items: center;
  gap: 12px;
  height: 100%;
}

/* logo do topbar: menor, quadrada e perfeitamente centralizada */
.app-topbar .logo,
.app-topbar .brand .logo {
  width: 44px !important;
  height: 44px !important;
  min-width: 44px;
  min-height: 44px;
  font-size: 16px !important;
  border-radius: 10px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  margin: 0 !important;
  padding: 0 !important;
  line-height: 1 !important;
  box-shadow: 0 6px 18px rgba(46,125,50,0.12) !important;
  transform: none !important; /* remove offsets/transforms indesejados */
}

/* ajuste fino do texto ao lado do logo para evitar desalinhamento visual */
.app-topbar .brand > div {
  display: flex;
  flex-direction: column;
  justify-content: center;
}

/* evita que o widget de acessibilidade sobreponha o topbar/logo (garante bottom-right) */
#a11yWidget { right: 16px !important; bottom: 16px !important; top: auto !important; }

/* Botão Aa de acessibilidade: cor escura por padrão */
.a11y-toggle-btn {
  background: #181c1b !important;
  color: #fff !important;
  border: 0 !important;
  box-shadow: 0 4px 16px rgba(44,62,80,0.13);
  font-weight: 700;
  font-size: 1.25em;
  transition: background 0.18s, color 0.18s, box-shadow 0.18s;
}
.a11y-toggle-btn:hover,
.a11y-toggle-btn:focus {
  background: #232826 !important;
  color: #fff !important;
  outline: 2px solid #66c18a;
}