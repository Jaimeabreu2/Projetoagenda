<!doctype html>
<html lang="pt-BR" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>Evento — Criar</title>

    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="css/style.css"/>
    <style>

    </style>
</head>
<body class="event-page">
<!-- adiciona o calendário de fundo -->
<div id="bgCalendar" class="bg-calendar" aria-hidden="true"></div>
<div class="animated-gradient" aria-hidden="true"></div>
<svg class="bg-decor" aria-hidden="true" viewBox="0 0 1200 800" preserveAspectRatio="xMidYMid slice">
    <!-- ...svg defs/shapes as in index.html... -->
</svg>

<main class="event-card" aria-labelledby="pageTitle">
    <!-- Texto introdutório e instruções:
         - Campos obrigatórios: Título e Data.
         - Após salvar, o calendário de fundo é atualizado visualmente. -->
    <section class="event-hero" aria-hidden="false">
        <div class="brand" style="margin-bottom:12px">
            <div class="logo" aria-hidden="true">Ag</div>
            <div>
                <div style="font-weight:700">Projeto Agenda</div>
                <div class="small">Criar novo evento — provas, trabalhos, reuniões etc.</div>
            </div>
        </div>

        <h1 id="pageTitle" style="margin:16px 0 8px 0">Adicionar evento</h1>
        <p class="note">Preencha os campos obrigatórios (Título e Data). Após salvar, o evento será exibido no calendário.</p>
        <div class="small" style="margin-top:18px">Voltar: <a th:href="@{/calendarComAgenda}">Calendário</a></div>
    </section>

    <!-- Formulário de evento: o campo Título recebe foco ao carregar para facilitar acesso por teclado -->
    <section class="card" aria-labelledby="formTitle">
        <h2 id="formTitle">Detalhes do evento</h2>

        <form id="eventForm" autocomplete="on" novalidate>
            <div>
                <label for="evtTitle">Título</label>
                <div class="input">
                    <input id="evtTitle" name="title" type="text" placeholder="Ex: Prova de Matemática" required/>
                </div>
            </div>

            <div class="form-row">
                <div>
                    <label for="evtDate">Data</label>
                    <div class="input"><input id="evtDate" name="date" type="date" required/></div>
                </div>
                <div>
                    <label for="evtTime">Horário</label>
                    <div class="input"><input id="evtTime" name="time" type="time" placeholder="09:30"/></div>
                </div>
            </div>

            <div>
                <label for="evtType">Tipo</label>
                <div class="input">
                    <select id="evtType" name="type">
                        <option value="aula">Aula</option>
                        <option value="prova">Prova</option>
                        <option value="trabalho">Trabalho</option>
                        <option value="reuniao">Reunião</option>
                        <option value="outro">Outro</option>
                    </select>
                </div>
            </div>

            <div>
                <label for="evtNote">Descrição</label>
                <div class="input">
                    <input id="evtNote" name="note" type="text"
                           placeholder="Notas rápidas (local, instrutor, observações)"/>
                </div>
            </div>

            <div style="display:flex;gap:10px;margin-top:12px;align-items:center">
                <button type="submit" class="btn" id="saveBtn">Salvar evento</button>
                <a class="btn secondary" th:href="@{/calendarComAgenda}">Cancelar</a>
                <div class="success" id="successMsg" role="status">Evento criado com sucesso.</div>
            </div>

            <div style="margin-top:10px" class="small">Os campos obrigatórios: Título e Data.</div>
        </form>
    </section>
</main>

<script src="js/accessibility.js"></script>
<script>
    (function(){
      if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
      document.addEventListener('click', function(e){
        const btn = e.target.closest('.btn'); if(!btn) return;
        const rect = btn.getBoundingClientRect();
        const ripple = document.createElement('span'); ripple.className='ripple';
        const size = Math.max(rect.width, rect.height) * 0.9;
        ripple.style.width = ripple.style.height = size + 'px';
        ripple.style.left = (e.clientX - rect.left - size/2) + 'px';
        ripple.style.top  = (e.clientY - rect.top  - size/2) + 'px';
        btn.appendChild(ripple);
        setTimeout(()=> ripple.remove(), 700);
      }, {passive:true});
    })();
  </script>
</body>
</html>
